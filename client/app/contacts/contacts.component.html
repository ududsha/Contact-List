<app-loading [condition]="isLoading"></app-loading>
<app-toast [message]="toast.message"></app-toast>

<div class="md-card" *ngIf="!isLoading">
    <div class="card">
        <h4 class="card-header">Add a New Contact</h4>
        <div class="card-block">
            <form class="form-inline" [formGroup]="addContactForm" (ngSubmit)="addContact()" style="text-align:center">
                <div class="group">
                    <div class="form-group">
                        <input class="form-control" type="text" name="firstName" formControlName="firstName" placeholder="First Name">
                        <p class="text-danger" *ngIf="firstName?.errors?.required">First Name can not be empty</p>
                    </div>

                    <div class="form-group">
                        <input class="form-control" type="text" name="lastName" formControlName="lastName" placeholder="Last Name" min="0">
                        <p class="text-danger" *ngIf="lastName?.errors?.required">Last Name can not be empty</p>
                    </div>
                    <div class="form-group">
                        <input class="form-control" type="number" name="phoneNumber" formControlName="phoneNumber" placeholder="Phone Number" step="any"
                            min="0">
                        <p class="text-danger" *ngIf="phoneNumber?.errors?.required">Phone Number can not be empty.</p>
                    </div>
                    <div class="form-group">
                        <input class="form-control" type="text" name="emailAddress" formControlName="emailAddress" placeholder="Email Address" step="any"
                            min="0">
                        <p class="text-danger" *ngIf="emailAddress?.errors?.required">Email address can not be empty.</p>
                    </div>
                </div>
                <button class="btn btn-primary" type="submit" [disabled]="!addContactForm.valid"> Add</button>

            </form>
        </div>
    </div>
    <h4 class="card-header">Contact List ({{contacts.length}})</h4>

    <div class="card-block">
        <table class="table table-bordered table-striped">
            <thead class="thead-default">
                <tr>
                    <th>First Name</th>
                    <th>Last Name</th>
                    <th>Phone Number</th>
                    <th>Email Address</th>
                </tr>
            </thead>
            <tbody *ngIf="contacts.length === 0">
                <tr>
                    <td colspan="4">There are no Contacts in the Database. Add a new contact below.</td>
                </tr>
            </tbody>
            <tbody>
                <tr *ngFor="let contact of contacts">
                    <td>{{contact.firstName}}</td>
                    <td>{{contact.lastName}}</td>
                    <td>{{contact.phoneNumber}}</td>
                    <td>{{contact.emailAddress}}</td>
                </tr>
            </tbody>
        </table>
    </div>
</div>